pkgname=qbittorrent
pkgver=3.3.16
pkgrel=1
pkgdesc="An advanced BitTorrent client - no WebUI auth"
arch=("x86_64")
url="https://github.com/qbittorrent/qBittorrent"
license=('GPL2')
depends=('libtorrent-rasterbar' 'qt5-base' 'hicolor-icon-theme'
         'python')
makedepends=('boost' 'qt5-tools')
conflicts=('qbittorrent')
source=("https://github.com/${pkgname}/qBittorrent/archive/release-${pkgver}.tar.gz"
        "noauth.patch")
md5sums=('28852012dbd3f3bbec400279935b88d1'
         '7b0cdb4347398217cebb987f188576e8')

prepare() {
	cd "${srcdir}/qBittorrent-release-${pkgver}"
  patch -p1 < "${srcdir}/noauth.patch"
}

build() {
	cd "${srcdir}/qBittorrent-release-${pkgver}"
	./configure --prefix=/usr
	make
}

package() {
	cd "${srcdir}/qBittorrent-release-${pkgver}"
	make INSTALL_ROOT="$pkgdir/" install
}
